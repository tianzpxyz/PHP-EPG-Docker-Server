保存设置快捷键：Ctrl+S

### EPG地址
支持 .xml 跟 .xml.gz 格式  
地址前 `#` 临时停用，后 `#` 备注或设置参数，快捷键：Ctrl+/  
`URL #UA=自定义UA`  
`URL #TO=+0100`（添加时间偏移）  
`URL #FT=频道名1, 频道ID2`（白名单，精确匹配）  
`URL #FT=!频道名1, 频道ID2`（黑名单，精确匹配）  
`URL #RP={"a1":"b1", "a2":"b2"}`（字符串替换）  
`URL #BIND={"频道名1":"频道ID1", "频道名2":"频道ID2"}`（频道ID绑定）  
选项对照表（任选其一即可）：`UA/useragent, TO/timeoffset, FT/filter, RP/replace`  
频道指定 EPG 源：设置后，频道数据仅通过指定源更新  
优先级：xml 源越靠前，优先级越高；自定义源强制覆盖已有数据

### 频道别名
格式：`数据库频道名 => 频道别名1, 频道别名2, ...`  
支持正则表达式，如：`$1 => regex:/^iHOT(.*)/i` 将前缀 iHOT 去掉  
建议使用「频道管理」页面修改  
频道忽略字符：处理频道名时直接忽略的字符，默认为 `空格（&nbsp）` 及 `-`

### 台标管理
默认列表：`/assets/defaultList.json`  
台标列表：`/data/iconList.json`  
优先读取 `iconList.json`  
清理：删除服务器中未被使用的台标文件  
全显：除了数据库频道列表外，同时显示无节目单的内置台标  
转存：将远程台标转存到服务器上

### 其他设置
数据保存天数：清理超过设定天数的数据，包括节目单、定时日志、更新日志  
生成 xml 文件：默认生成包含预告数据的 xml 跟 xml.gz 文件，可自行关闭  
xml 内容：默认「预告数据」，仅今日及后面内容，「所有数据」包含所有内容  
数据导入导出：包含 `/data/` 文件夹的所有数据  
返回精彩节目：无数据时返回「精彩节目」用于回放，默认关闭  
Token 范围：点击后可修改 Token；可设置范围，默认「直播源」；支持 `regex:`  
User-Agent 范围：点击后可修改 UA，可用英文逗号分隔；可设置范围，默认「无」；支持 `regex:`  
繁體转简体：默认「仅频道名」，可选「所有信息」，可「关闭」（将不支持繁简频道匹配）  
时区转换：默认「关闭」，可按需选择目标时区  
IP 列表：点击后可修改；可设置为「黑名单模式」、「白名单模式」，默认「不使用」  
检查版本更新：进入设置界面后检测版本更新（仅提醒），默认打开  
访问日志：关闭后首页移除「访问日志」入口，默认打开  
匹配频道列表：可粘贴直播地址进行解析，生成 xml 时使用该信息进行模糊匹配  
Memcached：已移除相关设置，默认打开，缓存在更新数据时清除

### 额外提示
- 可自行上传脚本至 `/data/scripts` 目录，使用以下接口访问（访问限制跟直播源一致）：  
`http://xxx.xx/index.php?type=php&url=xxx.php&token=xxx&param=xxx`  
- `t.xml`, `t.xml.gz`, `tv.m3u`, `tv.txt` 可使用以下接口访问：  
`http://xxx.xx/index.php?type=xxx`  
`type` 分别为 `xml`, `gz`, `m3u`, `txt`

### 直播源管理
支持 .txt 和 .m3u 格式，光标离开后自动保存  
地址前 `#` 临时停用，后 `#` 备注或设置参数，快捷键：Ctrl+/  
`URL #PF=分组前缀`  
`URL #UA=自定义UA`  
`URL #RP={"a1":"b1", "a2":"b2"}`（字符串替换，`\#` 代表 `#` ，`\n` 代表 `换行`）  
`URL #FT=频道名1, 分组2, 直播地址3`（白名单，模糊匹配）  
`URL #FT=!频道名1, 分组2, 直播地址3`（黑名单，模糊匹配）  
`URL #EXTVLCOPT={"http-user-agent":"xxx", "http-referrer":"xxx"}`（加入额外 `#EXTVLCOPT` 标签）  
`URL #EXTINFOPT={"catchup":"xxx", "catchup-source":"xxx"}`（`#EXTINF` 标签加入额外信息）  
`URL #PROXY=1/0`（强制开启/关闭代理）  
`URL #T2S=1`（将频道名、分组名转换为简体中文）  
选项对照表（任选其一即可）：`PF/prefix, UA/useragent, RP/replace, FT/filter`  
多参数：`URL #PF=分组前缀 #UA=自定义UA`  
在生成 m3u 文件时，「台标地址」、「tvg-id」、「tvg-name」字段可选  
转换直播源：`http://xxx.xx/tv.m3u?token=xxx&url=xxx` 或 `http://xxx.xx/tv.txt?token=xxx&url=xxx`  
可添加 `&latest=1` 获取最新文件，不读取缓存  
代理访问：对请求进行代理转发  
测速校验：检验每个直播源的访问速度及分辨率，无法访问则停用  
清理缓存数据：删除所有直播源修改记录及未出现在列表中的直播源文件缓存  
停用：停用后不会出现在生成的直播源文件中，包括单个直播源  
保持：直播地址不变时，重新解析保持修改不变  
直播源模板：生成文件时，分组、频道名以模板为准，除 `default` 外，不再包含分组前缀  
分组为「default」时，包含所有来源数据并使用原分组名称  
打开「模糊匹配」后支持正则表达式，如 `regex:/^频道名$/` 进行精确匹配  
模糊匹配：默认开启，选「否」进行精确匹配  
线路备注：默认关闭，在直播地址后添加「$分组」  
酷9二级分组：默认关闭，打开后将用「分组前缀」生成一级分组（打开「直播源模板」后失效）  
直播源唯一性：选择「适应动态地址」后，将使用「来源+分组+频道名」保存除地址外的修改信息

### 直播源管理使用示例

#### 示例一：聚合多个直播源  
设置直播源，并给每个直播源设置分组前缀  
```
URL1 #PF=分组前缀1
URL2 #PF=分组前缀2
```
#### 示例二：将模板文件替换成本地可用文件  
设置直播源，并设置直播源内容替换  
```
http://xxx.xx.m3u #RP={"rtp://":"http://192.168.1.1:6777/udpxy/"}
```
这里假设xx.m3u为组播直播源，192.168.1.1:6777为udpxy服务端地址

#### 示例三：重命名直播源分组名  
将「分组1」重命名为「分组2」  
```
http://xxx.xx.m3u #RP={"group-title=\"分组1\"":"group-title=\"分组2\""}
```
#### 示例四：在直播地址前加入自定义信息  
在所有直播地址前加入一行，包含自定义 User-Agent、Referrer 信息  
```
http://xxx.xx.m3u #EXTVLCOPT={"http-user-agent":"xxx", "http-referrer":"xxx"}
```
在所有直播地址前的 `#EXTINF` 标签中加入 catchup、catchup-source 信息
```
http://xxx.xx.m3u #EXTINFOPT={"catchup":"append", "catchup-source":"?playseek=xxx"}
```
#### 示例五：屏蔽分组、频道、直播源  
屏蔽包含「购物、央视、127.0.0.1」关键字的分组、频道、直播源  
```
http://xxx.xx.m3u #FT=!购物, 央视, 127.0.0.1
```
#### 示例六：使用模板聚合直播源  
⚠️ 模糊匹配：默认开启，选「否」进行精准匹配

##### 模板示例：

（1）仅包含自己想要的频道  
```
#央视
CCTV1综合, CCTV2财经
#卫视
湖南卫视, 江苏卫视
```
（2）将所有直播源的“央视”、“卫视”分组提取出来  
```
#央视
#卫视

```
（3）“央视”分组、“湖南卫视”频道仅包含特定来源（跟「直播源地址」的地址部分保持一致）  
```
#央视, http://xxx.m3u, https://xxx.txt
#卫视
湖南卫视:"http://aaa.m3u":"https://bbb.txt", 江苏卫视
```
（4）在部分分组后，包含特定来源所有数据及分组  
```
#央视
#卫视
#default, http://xxx.m3u, https://xxx.txt
```
（5）在进行模糊匹配时，使用正则表达式特殊处理部分频道  
```
#央视
CCTV1
#卫视
regex:/.*卫视.*/
#咪咕
regex:/^咪咕-赛事.*/
#祖国同胞
regex:/^翡翠台$/, regex:/^黄金翡翠台$/
```
（6）将部分源整合到自定义分组  
```
#抖音虎牙直播, http://xxx.m3u, https://xxx.txt
regex:/.*/
```
#### 示例七：直播源转换  
m3u 转 txt:  
```
http://xxx.xx/tv.txt?token=xxx&url=https://xxx.xx/xx.m3u

```
特性：解析分组  

txt 转 m3u:  
```
http://xxx.xx/tv.m3u?token=xxx&url=https://xxx.xx/xx.txt
```
特性：解析分组、添加EPG地址、数据库频道名匹配、台标匹配  

抓取最新文件：在末尾加上 `&latest=1` ，不加的话默认读取缓存

#### 示例八：托管本地直播源文件  
上传本地直播源文件（m3u/txt），假设上传文件名为ipv6.m3u  

访问文件  
```
http://xxx.xx/tv.m3u?token=xxx&url=/data/live/file/ipv6.m3u
http://xxx.xx/tv.txt?token=xxx&url=/data/live/file/ipv6.m3u
```